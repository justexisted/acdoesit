<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AC Does It — Get More Paying Customers</title>
    <meta name="description" content="We build simple customer paths on mobile that turn your website visitors into paying clients. Guaranteed.">
    <meta name="theme-color" content="#0b0b0b">
    <link rel="preload" href="styles.css" as="style">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="assets/favicon-16.png" type="image/png" sizes="16x16">
    <link rel="icon" href="favicon.ico">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <a class="skip-link" href="start.html">Skip to free plan</a>

    <!-- Authentication Header -->
    <div class="auth-header">
        <div class="container">
            <div class="auth-content">
                <div class="auth-left">
                    <div class="brand">
                        <img src="assets/newlogo.png" alt="AC Does It" class="mainLogo">
                    </div>
                </div>
                <div class="auth-right">
                    <div id="auth-buttons" class="auth-buttons">
                        <button class="auth-btn auth-btn-signin" onclick="openSignInModal()">Sign in</button>
                        <button class="auth-btn auth-btn-signup" onclick="openSignUpModal()">Sign up</button>
                    </div>
                    <div id="user-status" class="user-status" style="display: none;">
                        <span class="user-greeting">Hello, <span id="user-first-name"></span></span>
                        <button class="auth-btn auth-btn-signout" onclick="signOut()">Sign out</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Authentication Modals -->
    <div id="signInModal" class="auth-modal" style="display: none;">
        <div class="auth-modal-content">
            <div class="auth-modal-header">
                <h2>Sign In</h2>
                <button class="auth-modal-close" onclick="closeSignInModal()">&times;</button>
            </div>
            <div class="auth-modal-body">
                <form id="signInForm" class="auth-form">
                    <div class="form-group">
                        <label for="signInEmail">Email</label>
                        <input type="email" id="signInEmail" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="signInPassword">Password</label>
                        <input type="password" id="signInPassword" name="password" required>
                    </div>
                    <button type="submit" class="auth-submit-btn">Sign In</button>
                </form>
                
                <div class="auth-divider">
                    <span>or</span>
                </div>
                
                <div id="g_id_signin" class="google-signin-btn"></div>
                
                <!-- Set Password Form for Google Users -->
                <form id="setPasswordForm" class="auth-form" style="display: none; margin-top: 16px;">
                    <div class="form-group">
                        <label for="setPassword">Set Password</label>
                        <input type="password" id="setPassword" name="password" minlength="6">
                    </div>
                    <button type="submit" class="auth-submit-btn">Set Password</button>
                </form>
            </div>
        </div>
    </div>

    <div id="signUpModal" class="auth-modal" style="display: none;">
        <div class="auth-modal-content">
            <div class="auth-modal-header">
                <h2>Sign Up</h2>
                <button class="auth-modal-close" onclick="closeSignUpModal()">&times;</button>
            </div>
            <div class="auth-modal-body">
                <form id="signUpForm" class="auth-form">
                    <div class="form-group">
                        <label for="signUpFirstName">First Name</label>
                        <input type="text" id="signUpFirstName" name="firstName" required>
                    </div>
                    <div class="form-group">
                        <label for="signUpLastName">Last Name</label>
                        <input type="text" id="signUpLastName" name="lastName" required>
                    </div>
                    <div class="form-group">
                        <label for="signUpEmail">Email</label>
                        <input type="email" id="signUpEmail" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="signUpPassword">Password</label>
                        <input type="password" id="signUpPassword" name="password" required minlength="6">
                    </div>
                    <button type="submit" class="auth-submit-btn">Sign Up</button>
                </form>
                
                <div class="auth-divider">
                    <span>or</span>
                </div>
                
                <div id="g_id_signin_signup" class="google-signin-btn"></div>
                
                <!-- Password Reset Form (initially hidden) -->
                <form id="passwordResetForm" class="auth-form" style="display: none;">
                    <div class="form-group">
                        <label for="resetEmail">Email Address</label>
                        <input type="email" id="resetEmail" name="email" required>
                    </div>
                    <button type="submit" class="auth-submit-btn">Send Password Reset</button>
                    <button type="button" class="auth-back-btn" onclick="showSignUpForm()">← Back to Sign Up</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Icon sprites -->
    <svg aria-hidden="true" style="position:absolute;width:0;height:0;overflow:hidden">
        <symbol id="icon-check" viewBox="0 0 24 24">
            <path fill="currentColor" d="M9 16.2l-3.5-3.5-1.4 1.4L9 19 20.3 7.7 18.9 6.3z"/>
        </symbol>
        <symbol id="icon-x" viewBox="0 0 24 24">
            <path fill="currentColor" d="M18.3 5.7L12 12l6.3 6.3-1.4 1.4L10.6 13.4 4.3 19.7 2.9 18.3 9.2 12 2.9 5.7 4.3 4.3l6.3 6.3 6.3-6.3z"/>
        </symbol>
    </svg>

    <header class="section hero" id="top">
        <div class="container">
            <div id="ai-prompt-builder-section" style="text-align: center; margin-bottom: 20px; display: none;">
                <a href="./ai-prompt-builder/" class="btn ai-prompt-btn">AI Prompt Builder</a>
                <button onclick="debugDatabase()" class="btn" style="margin-left: 10px; background: #6c757d;">Debug DB</button>
            </div>
            <h1 class="headline">Your Website Is Costing You Customers.</h1>
            <p class="subhead">We build simple solutions that turn your website visitors into paying clients. Guaranteed.</p>
            <p class="subhead">We're currently in beta. Get free access to our AI Prompt Builder today.</p>
            <div style="text-align: center; margin-top: 32px;">
                <a href="role.html" class="btn btn-accent btn-lg">Start Now</a>
            </div>
        </div>
    </header>

    <section class="section problem" id="problem">
        <div class="container">
            <h2>Does This Sound Familiar?</h2>
            <div class="problem-grid">
                <div class="problem-card problem-bad">
                    <div class="problem-card-head">
                        <span class="icon bad" aria-hidden="true"><svg><use href="#icon-x"></use></svg></span>
                        <h3>Your Current Website</h3>
                    </div>
                    <ul class="list list-bad">
                        <li><span class="list-icon" aria-hidden="true"><svg><use href="#icon-x"></use></svg></span>Looks nice, but doesn't sell.</li>
                        <li><span class="list-icon" aria-hidden="true"><svg><use href="#icon-x"></use></svg></span>Looks bad on mobile.</li>
                        <li><span class="list-icon" aria-hidden="true"><svg><use href="#icon-x"></use></svg></span>Generates zero leads.</li>
                    </ul>
                </div>
                <div class="problem-card problem-good">
                    <div class="problem-card-head">
                        <span class="icon good" aria-hidden="true"><svg><use href="#icon-check"></use></svg></span>
                        <h3>A Website That Sells</h3>
                    </div>
                    <ul class="list list-good">
                        <li><span class="list-icon" aria-hidden="true"><svg><use href="#icon-check"></use></svg></span>Is a 24/7 sales asset.</li>
                        <li><span class="list-icon" aria-hidden="true"><svg><use href="#icon-check"></use></svg></span>Guides customers efficiently.</li>
                        <li><span class="list-icon" aria-hidden="true"><svg><use href="#icon-check"></use></svg></span>Delivers qualified leads daily.</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <section class="section solution" id="solution">
        <div class="container">
            <h2>Our 3-Step Plan to Get You Customers</h2>
            <div class="cards">
                <article class="card">
                    <div class="card-number">1</div>
                    <h3 class="card-title">We Find Your Dream Customer</h3>
                    <p class="card-desc">We identify exactly who your best customers are and what they need to see to make a purchase.</p>
                </article>
                <article class="card">
                    <div class="card-number">2</div>
                    <h3 class="card-title">We Build Their Perfect Path</h3>
                    <p class="card-desc">We design a clear, simple journey on your website that makes buying from you the obvious choice.</p>
                </article>
                <article class="card">
                    <div class="card-number">3</div>
                    <h3 class="card-title">You Get More Business</h3>
                    <p class="card-desc">We launch the system and you get a predictable flow of new leads and sales from your website.</p>
                </article>
            </div>
        </div>
    </section>

    <section class="section offer" id="offer">
        <div class="container">
            <div class="offer-box" role="region" aria-label="Guarantee">
                <h2>Our Guarantee.</h2>
                <p class="offer-copy"><strong>We will build you a complete and professional system on your website. If you don't see a measurable increase in qualified leads within 90 days, you stop paying us until you do.</strong></p>
                <a href="start.html" class="btn btn-accent btn-lg">Start Now</a>
            </div>
        </div>
    </section>

    <!-- <section class="section proof" id="proof">
        <div class="container">
            <h2>The Results</h2>
            <blockquote>
                "I was skeptical, but my phone started ringing the first week. We doubled our online leads in 60 days."
                <cite>— Jane Doe, CEO of AwesomeCo</cite>
            </blockquote>
            <div class="logos" aria-label="Clients Include">
                <div class="logo">Logo</div>
                <div class="logo">Logo</div>
                <div class="logo">Logo</div>
                <div class="logo">Logo</div>
                <div class="logo">Logo</div>
            </div>
        </div>
    </section> -->

    <section class="section final-cta" id="final-cta">
        <div class="container">
            <!-- Content for non-authenticated users -->
            <div id="non-auth-content">
                <h2>Ready to turn your website into your #1 salesperson?</h2>
                <p>Schedule a free 15-minute call with us to discuss your needs.</p>
                <p>Save time while prompting ChatGPT or other AI's with our AI Prompt Builder today.</p>
                <button onclick="openSignUpModal()" class="btn btn-accent btn-lg">Get Free Access to AI Prompt Builder</button>
            </div>
            
            <!-- Content for authenticated users -->
            <div id="auth-content" style="display: none;">
                <h2>Thank you for letting us know!</h2>
                <p>You're all set up with access to our AI Prompt Builder.</p>
                <a href="./ai-prompt-builder/" class="btn btn-accent btn-lg">🚀 Open the AI Prompt Builder</a>
            </div>
        </div>
    </section>

    <footer class="section footer">
        <div class="container">
            <p>© <span id="year"></span> AC Does It. All rights reserved.</p>
        </div>
    </footer>

    <script src="auth.js"></script>
    <script>
        // Function to check authentication status and update UI
        function updatePageForAuthStatus() {
            // Wait for auth system to be available
            if (!window.authSystem) {
                setTimeout(updatePageForAuthStatus, 100);
                return;
            }

            const aiPromptBuilderSection = document.getElementById('ai-prompt-builder-section');
            const nonAuthContent = document.getElementById('non-auth-content');
            const authContent = document.getElementById('auth-content');

            if (window.authSystem.isAuthenticated && window.authSystem.currentUser) {
                // User is authenticated
                if (aiPromptBuilderSection) aiPromptBuilderSection.style.display = 'block';
                if (nonAuthContent) nonAuthContent.style.display = 'none';
                if (authContent) authContent.style.display = 'block';
            } else {
                // User is not authenticated
                if (aiPromptBuilderSection) aiPromptBuilderSection.style.display = 'none';
                if (nonAuthContent) nonAuthContent.style.display = 'block';
                if (authContent) authContent.style.display = 'none';
            }
        }

        // Handle hash links to open modals
        function handleHashLinks() {
            const hash = window.location.hash;
            if (hash === '#signup') {
                openSignUpModal();
            } else if (hash === '#signin') {
                openSignInModal();
            }
        }

        // Check auth status on page load
        document.addEventListener('DOMContentLoaded', () => {
            updatePageForAuthStatus();
            handleHashLinks();
        });

        // Listen for auth events
        window.addEventListener('userSignedIn', updatePageForAuthStatus);
        window.addEventListener('userSignedOut', updatePageForAuthStatus);

        // Listen for hash changes
        window.addEventListener('hashchange', handleHashLinks);

        // Debug function to test database connection
        async function debugDatabase() {
            try {
                console.log('Testing database connection...');
                const response = await fetch('/.netlify/functions/debug-users', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('Database debug results:', data);
                    alert(`Database debug complete! Found ${data.totalUsers} users. Check console for details.`);
                } else {
                    console.error('Debug failed:', response.status);
                    alert('Debug failed. Check console for details.');
                }
            } catch (error) {
                console.error('Debug error:', error);
                alert('Debug error: ' + error.message);
            }
        }
    </script>
</body>
</html>



